# Uses 256-color display:
set -g default-terminal "screen-256color"

# Sets the scrollback history to 100k:
set -g history-limit 100000

# Registers C-t (tmux) instead of C-b as a prefix:
unbind C-b
set -g prefix C-t
bind C-t send-prefix

# Shortens command delay (fixes several issues regarding vim inside tmux):
set -sg escape-time 0

# Makes windows and panes 1-indexed (they are 0-indexed by default):
set-option -g base-index 1
setw -g pane-base-index 1

# Command to source ~/.tmux.conf: <prefix>r
bind r source-file ~/.tmux.conf \; display "Tmux config has been reloaded."

# Sets the display-time to 1.5 seconds.
# (the messages in the status bar will be displayed this long).
set-option -g display-time 1500

# Sets the recursive mappings' time window to 2s:
set-option -g repeat-time 2000

# Uses <prefix>| to split window horizontally
# and <prefix>- to split window vertically.
# Explicitly navigates to current directory instead of ~ (issue in tmux > 1.8):
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# Moves the current window to the left/right:
bind-key -n C-Pagedown swap-window -t -1
bind-key -n C-Pageup swap-window -t +1

# Uses vi-style movement keys as pane movement commands:
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Uses <prefix>C to insert a new window just after the current one
# (and increase the indexes of all subsequent windows automatically):
bind C new-window -a -c "#{pane_current_path}"

# Registers C-h / C-l to cycle through the windows:
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# Uses <prefix>,[HJKL] to resize panes crudely:
bind H resize-pane -L 5
bind J resize-pane -D 5
bind K resize-pane -U 5
bind L resize-pane -R 5
# and <prefix>,<alt>-[HJKL] to resize panes with exceptional finesse:
bind -n M-H resize-pane -L
bind -n M-J resize-pane -D
bind -n M-K resize-pane -U
bind -n M-L resize-pane -R

# Returns to previous window with <prefix><prefix>:
bind C-t last-window

# Explicitly disables the mouse control:
setw -g mouse off
# But allows the user to turn mouse support on/off:
bind M set -g mouse on \; display "Mouse support: ON"
bind m set -g mouse off \; display "Mouse support: OFF"

# Disables auto-renaming of windows:
set-option -g allow-rename off

# Turns off visual notifications of activity in other windows
setw -g monitor-activity off
set -g visual-activity off

# Configures the status bar:
set-option -g status on
set -g status-interval 1
set -g status-justify centre
set-option -g status-bg colour232
set-option -g status-fg yellow
set-option -g status-attr dim

# Bottom-bar contents (left part) - session name, window and pane number:
set -g status-left-length 24
set -g status-left "#[fg=cyan]#S#[fg=colour239]:#[fg=colour202]#I#[fg=colour239]:#[fg=colour178]#P"
set -g status-right-length 60
set -g status-right "#[fg=colour22]%d %b %Y #[fg=coloour239]: #[fg=colour2]%H:%M:%S"

# Binds F# keys to access windows whose index is greater than 10:
bind 0 selectw -t :10
bind F1 selectw -t:11
bind F2 selectw -t:12
bind F3 selectw -t:13
bind F4 selectw -t:14
bind F5 selectw -t:15
bind F6 selectw -t:16
bind F7 selectw -t:17
bind F8 selectw -t:18
bind F9 selectw -t:19
bind F10 selectw -t:20
bind F11 selectw -t:21
bind F12 selectw -t:22

# Highlights the active pane with a dark-gray background color,
# other (inactive) panes have black background color.
set -g window-active-style "fg=default,bg=colour233"
set -g window-style "fg=default,bg=default"

# Sets various bottombar-related window options:
set-window-option -g window-status-fg brightblue
set-window-option -g window-status-bg colour233
set-window-option -g window-status-attr dim
set-window-option -g window-status-current-fg colour202
set-window-option -g window-status-current-bg colour232
set-window-option -g window-status-current-attr bright
set-option -g pane-border-fg colour235
set-option -g pane-active-border-fg blue
set-option -g message-bg colour232
set-option -g message-fg brightred
